(this["webpackJsonplabirynth-game"]=this["webpackJsonplabirynth-game"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),i=a(7),s=a.n(i),r=(a(13),a(1)),o=a(2),c=a(4),d=a(3),h=a(5),u=(a(14),a(15),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"entry__UI"},n.a.createElement("div",{className:"logo"}),n.a.createElement("h2",null,"LABYRINTH"),n.a.createElement("h1",null,"GAME"),n.a.createElement("div",{className:"button",onClick:this.props.handleClick},"CONTINUE"))}}]),t}(l.Component)),v=(a(16),a(17),function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"credits__box"},n.a.createElement("h2",null,"CREDITS"),n.a.createElement("div",{className:"list"},n.a.createElement("div",null,"Icons made by ",n.a.createElement("a",{href:"https://www.flaticon.com/authors/zlatko-najdenovski",title:"Zlatko Najdenovski"},"Zlatko Najdenovski")," from ",n.a.createElement("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")),n.a.createElement("a",{href:"https://www.vecteezy.com/"}," Vectors by Vecteezy"),n.a.createElement("div",null,"ArcadeClassic font is copyright (c) Jakob Fischer at www.pizzadude.dk,  all rights reserved. Do not distribute without the author's permission.")),n.a.createElement("div",{className:"button",onClick:this.props.handleCredits},"CLOSE"))}}]),t}(l.Component)),f=function(e){function t(){var e,a;Object(r.a)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={credits:!1},a.handleCredits=function(){a.setState({credits:!a.state.credits})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return!0!==this.state.credits?n.a.createElement("div",{className:"menu__standard"},n.a.createElement("h1",null,"MAIN MENU"),n.a.createElement("div",{className:"menu__content"},n.a.createElement("div",{className:"difficulty__box"},n.a.createElement("h3",null,"DIFFICULTY"),n.a.createElement("ul",null,n.a.createElement("li",{onClick:function(){return e.props.handleDifficulty(1)}},"EASY"),n.a.createElement("li",{onClick:function(){return e.props.handleDifficulty(2)}},"NORMAL"),n.a.createElement("li",{onClick:function(){return e.props.handleDifficulty(3)}},"HARD"))),n.a.createElement("div",{className:"main"},n.a.createElement("div",{className:"play",onClick:this.props.handlePlay},"PLAY"),n.a.createElement("div",{className:"credits",onClick:this.handleCredits},"CREDITS")),n.a.createElement("div",{className:"character__selection"},n.a.createElement("h3",null,"CHARACTER"),n.a.createElement("div",{className:"character__slider"},n.a.createElement("div",{className:"character standby"}))))):n.a.createElement("div",{className:"menu__standard"},n.a.createElement("h1",null,"MAIN MENU"),n.a.createElement("div",{className:"menu__content"},n.a.createElement("div",{className:"difficulty__box"},n.a.createElement("h3",null,"DIFFICULTY"),n.a.createElement("ul",null,n.a.createElement("li",{onClick:function(){return e.props.handleDifficulty(1)}},"EASY"),n.a.createElement("li",{onClick:function(){return e.props.handleDifficulty(2)}},"NORMAL"),n.a.createElement("li",{onClick:function(){return e.props.handleDifficulty(3)}},"HARD"))),n.a.createElement(v,{handleCredits:this.handleCredits}),n.a.createElement("div",{className:"character__selection"},n.a.createElement("h3",null,"CHARACTER"),n.a.createElement("div",{className:"character__slider"},n.a.createElement("input",{type:"text"})))))}}]),t}(l.Component);a(18),a(19),a(20);function m(e){for(var t=[],a=1;a<=e;a++){for(var l=[],n=1;n<=e;n++)l.push({wall:1,isEnter:0,isExit:0,hasPlayer:0});t.push(l)}return t}function p(e,t){var a=e,l=Math.floor(Math.random()*(a.length-2)+1),n=Math.floor(Math.random()*(a.length-2)+1),i=[n,l],s=0;for(a[l][n].isEnter=1,a[l][n].hasPlayer=1,a[l][n].wall=0;i.length<t;){var r=Math.ceil(4*Math.random());if(n=i[i.length-2],l=i[i.length-1],s>10)return{filledLevel:e,routePositions:i};1===r?void 0!==a[l+1]&&void 0!==a[l+1][n]?void 0!==a[l+2]&&void 0!==a[l+2][n]&&(1===a[l+1][n].wall&&1===a[l+2][n].wall?(void 0===a[l+1][n-1]||void 0!==a[l+1][n-1]&&1===a[l+1][n-1].wall)&&(void 0===a[l+1][n+1]||void 0!==a[l+1][n+1]&&1===a[l+1][n+1].wall)&&(a[l+1][n].wall=0,i.push(n,l+1),s=0):s++):s++:2===r?void 0!==a[l-1]&&void 0!==a[l-1][n]?void 0!==a[l-2]&&void 0!==a[l-2][n]&&(1===a[l-1][n].wall&&1===a[l-2][n].wall?(void 0===a[l-1][n-1]||void 0!==a[l-1][n-1]&&1===a[l-1][n-1].wall)&&(void 0===a[l-1][n+1]||void 0!==a[l-1][n+1]&&1===a[l-1][n+1].wall)&&(a[l-1][n].wall=0,i.push(n,l-1),s=0):s++):s++:3===r?void 0!==a[l]&&void 0!==a[l][n+1]?void 0!==a[l]&&void 0!==a[l][n+2]&&(1===a[l][n+1].wall&&1===a[l][n+2].wall?(void 0===a[l+1]||void 0===a[l+1][n+1]||void 0!==a[l+1][n+1]&&1===a[l+1][n+1].wall)&&(void 0===a[l-1]||void 0===a[l-1][n+1]||void 0!==a[l-1][n+1]&&1===a[l-1][n+1].wall)&&(a[l][n+1].wall=0,i.push(n+1,l),s=0):s++):s++:4===r&&(void 0!==a[l]&&void 0!==a[l][n-1]?void 0!==a[l]&&void 0!==a[l][n-2]&&(1===a[l][n-1].wall&&1===a[l][n-2].wall?(void 0===a[l+1]||void 0===a[l+1][n-1]||void 0!==a[l+1][n-1]&&1===a[l+1][n-1].wall)&&(void 0===a[l-1]||void 0===a[l-1][n-1]||void 0!==a[l-1][n-1]&&1===a[l-1][n-1].wall)&&(a[l][n-1].wall=0,i.push(n-1,l),s=0):s++):s++)}return a[i[i.length-1]][i[i.length-2]].isExit=1,{filledLevel:a,routePositions:i}}function y(e){for(var t=e.routePositions,a=e.filledLevel,l=0,n=0;l!==t.length||n<5*a.length;){l=t.length;var i=0,s=2*Math.round(Math.random()*t.length/2),r=t[s],o=t[s+1];for(t.splice(s,2),t.push(r),t.push(o);i<10;){var c=Math.ceil(4*Math.random());r=t[t.length-2],o=t[t.length-1],1===c?void 0!==a[o+1]&&void 0!==a[o+1][r]?void 0!==a[o+2]&&void 0!==a[o+2][r]&&(1===a[o+1][r].wall&&1===a[o+2][r].wall?(void 0===a[o+1][r-1]||void 0!==a[o+1][r-1]&&1===a[o+1][r-1].wall)&&(void 0===a[o+1][r+1]||void 0!==a[o+1][r+1]&&1===a[o+1][r+1].wall)&&(a[o+1][r].wall=0,t.push(r,o+1),i=0):i++):i++:2===c?void 0!==a[o-1]&&void 0!==a[o-1][r]?void 0!==a[o-2]&&void 0!==a[o-2][r]&&(1===a[o-1][r].wall&&1===a[o-2][r].wall?(void 0===a[o-1][r-1]||void 0!==a[o-1][r-1]&&1===a[o-1][r-1].wall)&&(void 0===a[o-1][r+1]||void 0!==a[o-1][r+1]&&1===a[o-1][r+1].wall)&&(a[o-1][r].wall=0,t.push(r,o-1),i=0):i++):i++:3===c?void 0!==a[o]&&void 0!==a[o][r+1]?void 0!==a[o]&&void 0!==a[o][r+2]&&(1===a[o][r+1].wall&&1===a[o][r+2].wall?(void 0===a[o+1]||void 0===a[o+1][r+1]||void 0!==a[o+1][r+1]&&1===a[o+1][r+1].wall)&&(void 0===a[o-1]||void 0===a[o-1][r+1]||void 0!==a[o-1][r+1]&&1===a[o-1][r+1].wall)&&(a[o][r+1].wall=0,t.push(r+1,o),i=0):i++):i++:4===c&&(void 0!==a[o]&&void 0!==a[o][r-1]?void 0!==a[o]&&void 0!==a[o][r-2]&&(1===a[o][r-1].wall&&1===a[o][r-2].wall?(void 0===a[o+1]||void 0===a[o+1][r-1]||void 0!==a[o+1][r-1]&&1===a[o+1][r-1].wall)&&(void 0===a[o-1]||void 0===a[o-1][r-1]||void 0!==a[o-1][r-1]&&1===a[o-1][r-1].wall)&&(a[o][r-1].wall=0,t.push(r-1,o),i=0):i++):i++)}l!==t.length&&(n=0),l===t.length&&n++}return a}var E=function(e,t){return function(e,t){var a,l=[],n=e;for(;l.length<t;)a=p(n,t),l=a.routePositions,n=m(e.length);return[[l[0],l[1]],y(a)]}(m(e),t*e)},w=function(e){function t(){var e,a;Object(r.a)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={level:[],size:a.props.genSettings.entrySize,difficulty:a.props.genSettings.entryDifficulty},a.handleMoveRight=function(){var e=a.state.level[1],t=a.state.level[0];0===e[t[1]][t[0]+1].wall&&(e[t[1]][t[0]].hasPlayer=0,e[t[1]][t[0]+1].hasPlayer=1,t=[t[0]+1,t[1]],a.setState({level:[t,e]})),1===e[t[1]][t[0]].isExit&&(a.props.score(a.state),a.handleCompleted())},a.handleMoveLeft=function(){var e=a.state.level[1],t=a.state.level[0];0===e[t[1]][t[0]-1].wall&&(e[t[1]][t[0]].hasPlayer=0,e[t[1]][t[0]-1].hasPlayer=1,t=[t[0]-1,t[1]],a.setState({level:[t,e]})),1===e[t[1]][t[0]].isExit&&(a.props.score(a.state),a.handleCompleted())},a.handleMoveUp=function(){var e=a.state.level[1],t=a.state.level[0];0===e[t[1]-1][t[0]].wall&&(e[t[1]][t[0]].hasPlayer=0,e[t[1]-1][t[0]].hasPlayer=1,t=[t[0],t[1]-1],a.setState({level:[t,e]})),1===e[t[1]][t[0]].isExit&&(a.props.score(a.state),a.handleCompleted())},a.handleMoveDown=function(){var e=a.state.level[1],t=a.state.level[0];0===e[t[1]+1][t[0]].wall&&(e[t[1]][t[0]].hasPlayer=0,e[t[1]+1][t[0]].hasPlayer=1,t=[t[0],t[1]+1],a.setState({level:[t,e]})),1===e[t[1]][t[0]].isExit&&(a.props.score(a.state),a.handleCompleted())},a.handleCompleted=function(){a.state.difficulty<6?(console.log("Brawo, pora na kolejny poziom"),a.setState({difficulty:a.state.difficulty+1})):6===a.state.difficulty?(console.log("Brawo, pora na kolejny poziom"),a.setState({difficulty:3,size:a.state.size+5})):a.state.size>60?console.log("brawo, ale nie ma wi\u0119cej poziom\xf3w dla Ciebie"):console.log("co\u015b jest nie tak")},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",(function(t){"KeyD"===t.code||"ArrowRight"===t.code?e.handleMoveRight():"KeyA"===t.code||"ArrowLeft"===t.code?e.handleMoveLeft():"KeyW"===t.code||"ArrowUp"===t.code?e.handleMoveUp():"KeyS"!==t.code&&"ArrowDown"!==t.code||e.handleMoveDown()}))}},{key:"shouldComponentUpdate",value:function(e,t){var a;if(this.props.start!==e.start)a=E(this.state.size,this.state.difficulty);else if(this.state.difficulty!==t.difficulty&&this.state.size!==t.size)a=E(this.state.size+5,3);else if(this.state.size!==t.size)a=E(this.state.size+5,this.state.difficulty);else{if(this.state.difficulty===t.difficulty)return this.state.level[0]!==t.level[0];a=E(this.state.size,this.state.difficulty+1)}return this.setState({level:a}),!0}},{key:"buildLevel",value:function(e,t){var a;return void 0!==e&&(a=e.map((function(e,a){return e.map((function(e,l){return 1===e.isEnter&&1===e.hasPlayer?n.a.createElement(g,{key:"X".concat(l,"Y").concat(a),class:"enter",size:t,gotPlayer:1}):1===e.isEnter?n.a.createElement(g,{key:"X".concat(l,"Y").concat(a),class:"enter",size:t,gotPlayer:0}):1===e.isExit&&1===e.hasPlayer?n.a.createElement(g,{key:"X".concat(l,"Y").concat(a),class:"exit",size:t,gotPlayer:1}):1===e.isExit?n.a.createElement(g,{key:"X".concat(l,"Y").concat(a),class:"exit",size:t,gotPlayer:0}):0===e.wall&&1===e.hasPlayer?n.a.createElement(g,{key:"X".concat(l,"Y").concat(a),class:"pass",size:t,gotPlayer:1}):0===e.wall?n.a.createElement(g,{key:"X".concat(l,"Y").concat(a),class:"pass",size:t,gotPlayer:0}):n.a.createElement(g,{key:"X".concat(l,"Y").concat(a),class:"wall",size:t})}))}))),a}},{key:"render",value:function(){return n.a.createElement("div",{className:"game_grid"},this.buildLevel(this.state.level[1],this.state.size))}}]),t}(l.Component),g=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.gotPlayer!==e.gotPlayer||(this.props.size!==e.size||this.props.class!==e.class)}},{key:"render",value:function(){var e={width:100/this.props.size+"%",height:100/this.props.size+"%"};return 1===this.props.gotPlayer?n.a.createElement("div",{className:"game_block ".concat(this.props.class),style:e},n.a.createElement("div",{className:"player"})):n.a.createElement("div",{className:"game_block ".concat(this.props.class),style:{width:100/this.props.size+"%",height:100/this.props.size+"%"}})}}]),t}(l.Component),b=w,k=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"game__container"},n.a.createElement(b,{start:this.props.start,genSettings:this.props.genSettings,score:this.props.score}))}}]),t}(l.Component),C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={restarted:0,score:0},a.handleClickRestart=function(){a.setState({restarted:a.state.restarted+1})},a.handleScore=function(e){var t=a.state.score+e.size*e.difficulty;a.setState({score:t})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"game__ui"},n.a.createElement("div",{className:"menu__content"},n.a.createElement("h2",null,"MENU"),n.a.createElement("div",{onClick:this.handleClickRestart},"RESTART"),n.a.createElement("div",{onClick:this.props.handleExit},"EXIT")),n.a.createElement("div",{className:"main"},n.a.createElement(k,{start:this.state.restarted,genSettings:this.props.genSettings,score:this.handleScore})),n.a.createElement("div",{className:"players__info"},n.a.createElement("h2",null,"PLAYER"),n.a.createElement("p",null,"SCORE"),n.a.createElement("p",null,this.state.score)))}}]),t}(l.Component),j=function(e){function t(){var e,a;Object(r.a)(this,t);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(n)))).state={firstEntry:1,inGame:0,generationSettings:{entryDifficulty:2,entrySize:10}},a.handleClickEntry=function(){a.setState({firstEntry:0})},a.handleClickPlay=function(){a.setState({inGame:1})},a.handleClickMenu=function(){a.setState({inGame:0})},a.handleSetDifficulty=function(e){var t={entryDifficulty:2,entrySize:10};2===e?t={entryDifficulty:3,entrySize:20}:3===e&&(t={entryDifficulty:3,entrySize:30}),a.setState({generationSettings:t})},a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return 0!==this.state.firstEntry?n.a.createElement(u,{handleClick:this.handleClickEntry}):0!==this.state.inGame?n.a.createElement(C,{handleExit:this.handleClickMenu,genSettings:this.state.generationSettings}):n.a.createElement(f,{handlePlay:this.handleClickPlay,handleDifficulty:this.handleSetDifficulty})}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[8,1,2]]]);
//# sourceMappingURL=main.654f09f1.chunk.js.map