(this["webpackJsonplabirynth-game"]=this["webpackJsonplabirynth-game"]||[]).push([[0],[,,,,,,,,function(e,t,a){e.exports=a(16)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var l=a(0),i=a.n(l),o=a(7),n=a.n(o),s=(a(13),a(1)),r=a(2),c=a(4),d=a(3),v=a(5);a(14),a(15);function h(e){for(var t=[],a=1;a<=e;a++){for(var l=[],i=1;i<=e;i++)l.push({wall:1,isEnter:0,isExit:0,hasPlayer:0});t.push(l)}return t}function u(e,t){var a=e,l=Math.floor(Math.random()*(a.length-2)+1),i=Math.floor(Math.random()*(a.length-2)+1),o=[i,l],n=0;for(a[l][i].isEnter=1,a[l][i].hasPlayer=1,a[l][i].wall=0;o.length<t;){var s=Math.ceil(4*Math.random());if(i=o[o.length-2],l=o[o.length-1],n>10)return{filledLevel:e,routePositions:o};1===s?void 0!==a[l+1]&&void 0!==a[l+1][i]?void 0!==a[l+2]&&void 0!==a[l+2][i]&&(1===a[l+1][i].wall&&1===a[l+2][i].wall?(void 0===a[l+1][i-1]||void 0!==a[l+1][i-1]&&1===a[l+1][i-1].wall)&&(void 0===a[l+1][i+1]||void 0!==a[l+1][i+1]&&1===a[l+1][i+1].wall)&&(a[l+1][i].wall=0,o.push(i,l+1),n=0):n++):n++:2===s?void 0!==a[l-1]&&void 0!==a[l-1][i]?void 0!==a[l-2]&&void 0!==a[l-2][i]&&(1===a[l-1][i].wall&&1===a[l-2][i].wall?(void 0===a[l-1][i-1]||void 0!==a[l-1][i-1]&&1===a[l-1][i-1].wall)&&(void 0===a[l-1][i+1]||void 0!==a[l-1][i+1]&&1===a[l-1][i+1].wall)&&(a[l-1][i].wall=0,o.push(i,l-1),n=0):n++):n++:3===s?void 0!==a[l]&&void 0!==a[l][i+1]?void 0!==a[l]&&void 0!==a[l][i+2]&&(1===a[l][i+1].wall&&1===a[l][i+2].wall?(void 0===a[l+1]||void 0===a[l+1][i+1]||void 0!==a[l+1][i+1]&&1===a[l+1][i+1].wall)&&(void 0===a[l-1]||void 0===a[l-1][i+1]||void 0!==a[l-1][i+1]&&1===a[l-1][i+1].wall)&&(a[l][i+1].wall=0,o.push(i+1,l),n=0):n++):n++:4===s&&(void 0!==a[l]&&void 0!==a[l][i-1]?void 0!==a[l]&&void 0!==a[l][i-2]&&(1===a[l][i-1].wall&&1===a[l][i-2].wall?(void 0===a[l+1]||void 0===a[l+1][i-1]||void 0!==a[l+1][i-1]&&1===a[l+1][i-1].wall)&&(void 0===a[l-1]||void 0===a[l-1][i-1]||void 0!==a[l-1][i-1]&&1===a[l-1][i-1].wall)&&(a[l][i-1].wall=0,o.push(i-1,l),n=0):n++):n++)}return a[o[o.length-1]][o[o.length-2]].isExit=1,{filledLevel:a,routePositions:o}}function f(e){for(var t=e.routePositions,a=e.filledLevel,l=0,i=0;l!==t.length||i<5*a.length;){l=t.length;var o=0,n=2*Math.round(Math.random()*t.length/2),s=t[n],r=t[n+1];for(t.splice(n,2),t.push(s),t.push(r);o<10;){var c=Math.ceil(4*Math.random());s=t[t.length-2],r=t[t.length-1],1===c?void 0!==a[r+1]&&void 0!==a[r+1][s]?void 0!==a[r+2]&&void 0!==a[r+2][s]&&(1===a[r+1][s].wall&&1===a[r+2][s].wall?(void 0===a[r+1][s-1]||void 0!==a[r+1][s-1]&&1===a[r+1][s-1].wall)&&(void 0===a[r+1][s+1]||void 0!==a[r+1][s+1]&&1===a[r+1][s+1].wall)&&(a[r+1][s].wall=0,t.push(s,r+1),o=0):o++):o++:2===c?void 0!==a[r-1]&&void 0!==a[r-1][s]?void 0!==a[r-2]&&void 0!==a[r-2][s]&&(1===a[r-1][s].wall&&1===a[r-2][s].wall?(void 0===a[r-1][s-1]||void 0!==a[r-1][s-1]&&1===a[r-1][s-1].wall)&&(void 0===a[r-1][s+1]||void 0!==a[r-1][s+1]&&1===a[r-1][s+1].wall)&&(a[r-1][s].wall=0,t.push(s,r-1),o=0):o++):o++:3===c?void 0!==a[r]&&void 0!==a[r][s+1]?void 0!==a[r]&&void 0!==a[r][s+2]&&(1===a[r][s+1].wall&&1===a[r][s+2].wall?(void 0===a[r+1]||void 0===a[r+1][s+1]||void 0!==a[r+1][s+1]&&1===a[r+1][s+1].wall)&&(void 0===a[r-1]||void 0===a[r-1][s+1]||void 0!==a[r-1][s+1]&&1===a[r-1][s+1].wall)&&(a[r][s+1].wall=0,t.push(s+1,r),o=0):o++):o++:4===c&&(void 0!==a[r]&&void 0!==a[r][s-1]?void 0!==a[r]&&void 0!==a[r][s-2]&&(1===a[r][s-1].wall&&1===a[r][s-2].wall?(void 0===a[r+1]||void 0===a[r+1][s-1]||void 0!==a[r+1][s-1]&&1===a[r+1][s-1].wall)&&(void 0===a[r-1]||void 0===a[r-1][s-1]||void 0!==a[r-1][s-1]&&1===a[r-1][s-1].wall)&&(a[r][s-1].wall=0,t.push(s-1,r),o=0):o++):o++)}l!==t.length&&(i=0),l===t.length&&i++}return a}var w=function(e,t){return function(e,t){var a,l=[],i=e;for(;l.length<t;)a=u(i,t),l=a.routePositions,i=h(e.length);return[[l[0],l[1]],f(a)]}(h(e),t*e)},p=function(e){function t(){var e,a;Object(s.a)(this,t);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={level:[],size:10,difficulty:2},a.handleMoveRight=function(){var e=a.state.level[1],t=a.state.level[0];0===e[t[1]][t[0]+1].wall&&(e[t[1]][t[0]].hasPlayer=0,e[t[1]][t[0]+1].hasPlayer=1,t=[t[0]+1,t[1]],a.setState({level:[t,e]})),1===e[t[1]][t[0]].isExit&&a.handleCompleted()},a.handleMoveLeft=function(){var e=a.state.level[1],t=a.state.level[0];0===e[t[1]][t[0]-1].wall&&(e[t[1]][t[0]].hasPlayer=0,e[t[1]][t[0]-1].hasPlayer=1,t=[t[0]-1,t[1]],a.setState({level:[t,e]})),1===e[t[1]][t[0]].isExit&&a.handleCompleted()},a.handleMoveUp=function(){var e=a.state.level[1],t=a.state.level[0];0===e[t[1]-1][t[0]].wall&&(e[t[1]][t[0]].hasPlayer=0,e[t[1]-1][t[0]].hasPlayer=1,t=[t[0],t[1]-1],a.setState({level:[t,e]})),1===e[t[1]][t[0]].isExit&&a.handleCompleted()},a.handleMoveDown=function(){var e=a.state.level[1],t=a.state.level[0];0===e[t[1]+1][t[0]].wall&&(e[t[1]][t[0]].hasPlayer=0,e[t[1]+1][t[0]].hasPlayer=1,t=[t[0],t[1]+1],a.setState({level:[t,e]})),1===e[t[1]][t[0]].isExit&&a.handleCompleted()},a.handleCompleted=function(){a.state.difficulty<6?(console.log("Brawo, pora na kolejny poziom"),a.setState({difficulty:a.state.difficulty+1})):6===a.state.difficulty?(console.log("na ten moment nie ma wi\u0119cej poziom\xf3w"),a.setState({difficulty:3,size:a.state.size+5})):a.state.size>50?console.log("brawo, ale nie ma wi\u0119cej poziom\xf3w dla Ciebie"):console.log("co\u015b jest nie tak")},a}return Object(v.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("keydown",(function(t){"KeyD"===t.code||"ArrowRight"===t.code?e.handleMoveRight():"KeyA"===t.code||"ArrowLeft"===t.code?e.handleMoveLeft():"KeyW"===t.code||"ArrowUp"===t.code?e.handleMoveUp():"KeyS"!==t.code&&"ArrowDown"!==t.code||e.handleMoveDown()}))}},{key:"shouldComponentUpdate",value:function(e,t){var a;if(this.props.start!==e.start)a=w(this.state.size,this.state.difficulty);else if(this.state.difficulty!==t.difficulty&&this.state.size!==t.size)a=w(this.state.size+5,3);else if(this.state.size!==t.size)a=w(this.state.size+5,this.state.difficulty);else{if(this.state.difficulty===t.difficulty)return this.state.level[0]!==t.level[0];a=w(this.state.size,this.state.difficulty+1)}return this.setState({level:a}),!0}},{key:"buildLevel",value:function(e,t){var a;return void 0!==e&&(a=e.map((function(e,a){return e.map((function(e,l){return 1===e.isEnter&&1===e.hasPlayer?i.a.createElement(y,{key:"X".concat(l,"Y").concat(a),class:"enter",size:t,gotPlayer:1}):1===e.isEnter?i.a.createElement(y,{key:"X".concat(l,"Y").concat(a),class:"enter",size:t,gotPlayer:0}):1===e.isExit&&1===e.hasPlayer?i.a.createElement(y,{key:"X".concat(l,"Y").concat(a),class:"exit",size:t,gotPlayer:1}):1===e.isExit?i.a.createElement(y,{key:"X".concat(l,"Y").concat(a),class:"exit",size:t,gotPlayer:0}):0===e.wall&&1===e.hasPlayer?i.a.createElement(y,{key:"X".concat(l,"Y").concat(a),class:"pass",size:t,gotPlayer:1}):0===e.wall?i.a.createElement(y,{key:"X".concat(l,"Y").concat(a),class:"pass",size:t,gotPlayer:0}):i.a.createElement(y,{key:"X".concat(l,"Y").concat(a),class:"wall",size:t})}))}))),a}},{key:"render",value:function(){return i.a.createElement("div",{className:"game_grid"},this.buildLevel(this.state.level[1],this.state.size))}}]),t}(l.Component),y=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(r.a)(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.gotPlayer!==e.gotPlayer||(this.props.size!==e.size||this.props.class!==e.class)}},{key:"render",value:function(){var e={width:100/this.props.size+"%",height:100/this.props.size+"%"};return 1===this.props.gotPlayer?i.a.createElement("div",{className:"game_block ".concat(this.props.class),style:e},i.a.createElement("div",{className:"player"})):i.a.createElement("div",{className:"game_block ".concat(this.props.class),style:{width:100/this.props.size+"%",height:100/this.props.size+"%"}})}}]),t}(l.Component),m=p,g=function(e){function t(){var e,a;Object(s.a)(this,t);for(var l=arguments.length,i=new Array(l),o=0;o<l;o++)i[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(i)))).state={restarted:0},a.handleCLick=function(){a.setState({restarted:a.state.restarted+1})},a}return Object(v.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{onClick:this.handleCLick},"Generate Level"),i.a.createElement(m,{start:this.state.restarted}))}}]),t}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(i.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[8,1,2]]]);
//# sourceMappingURL=main.bcb85701.chunk.js.map